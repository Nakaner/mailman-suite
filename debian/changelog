mailman-suite (0+20170523-7) unstable; urgency=medium

  [ Pierre-Elliott Bécue ]
  * d/po/fr.po reviewed.

  [ Jonas Meurer ]
  * d/mailman3-suite.prerm: Move 'dbc_go' behind the '#DEBHELPER' section.
    Database removal has to happen after service is stopped to prevent
    race conditions.
  * Add multi database backend support in maintainer scripts with dbconfig:
    * Change default database backend in the configuration skeleton to
      SQLite3. This ensures a working setup without dbconfig.
    * PostgreSQL (the upstream recommendation) stays the default at debconf
      database backend selection. This also applies for non-interactive
      installations.
    * Move SQLite3 database file to '/var/lib/mailman3/web/mailman3suite.db',
      manage it with dbconfig.
    * Unfortunately, using MySQL as backend is broken with MariaDB packages
      in Debian between 10.0.22-2 and 10.2.7-1 as they use 'utf8mb4' as
      default character set but don't have 'innodb_large_prefix' and
      row format 'dynamic' yet. See bug #886756 for further information.
      If you want to use MariaDB as database backend, you'll have to use
      MariaDB <= 10.0.22-1 or >= 10.2.7-1 for now.
  * d/control: Bump standards-version to 4.1.3, no changes required.
  * d/mailman3-suite.postinst: Change order of actions. First create config
    and log files, then run django-admin and finally (optionally) configure
    webservers.
  * d/templates: Change the webserver selection from multiselect to select,
    making 'none' the default. This fixes non-interactive installations and
    those without installed Apache2. (Closes: #884835)
  * d/mailman3-suite.postrm: Run 'db_purge' to clean up debconf database.

 -- Jonas Meurer <jonas@freesources.org>  Wed, 10 Jan 2018 00:58:24 +0100

mailman-suite (0+20170523-6) unstable; urgency=medium

  * d/mailman3-suite.init: Fix stop and reload functions by sending the right
    signals to the uwsgi daemon for stopping/killing/reloading it. Thanks
    again to Stephen Rothwell for bugreport and debugging. (Closes: #884330)

 -- Jonas Meurer <jonas@freesources.org>  Fri, 15 Dec 2017 14:38:12 +0100

mailman-suite (0+20170523-5) unstable; urgency=medium

  * d/mailman3-suite.init: Fix order of variable definitions. Thanks to
    Stephen Rothwell for the bugreport. (Closes: #884326)

 -- Jonas Meurer <mejo@debian.org>  Thu, 14 Dec 2017 00:16:09 +0100

mailman-suite (0+20170523-4) unstable; urgency=medium

  * d/mailman3-suite.init: Fix typo in do_stop() function. Thanks to Stephen
    Rothwell for the bugreport. (Closes: #884325)

 -- Jonas Meurer <mejo@debian.org>  Wed, 13 Dec 2017 23:56:28 +0100

mailman-suite (0+20170523-3) unstable; urgency=medium

  * d/control: fix a typo in Recommends: field. (Closes: #884316)

 -- Pierre-Elliott Bécue <becue@crans.org>  Wed, 13 Dec 2017 22:38:35 +0100

mailman-suite (0+20170523-2) unstable; urgency=medium

  [ Pierre-Elliott Bécue ]
  * d/control: fix vcs items to solve vcswatch complaints.
  * Adds missing dependency to mailman3: python3-mailman-hyperkitty
  * Uses pipes as sed delimiters to avoid some wrongdoings with variables
    filled with base64. (Closes: #884259)

  [ Jonas Meurer ]
  * d/control: bump standards-version to 4.1.2, no changes needed.

 -- Jonas Meurer <mejo@debian.org>  Wed, 13 Dec 2017 07:52:24 +0100

mailman-suite (0+20170523-1) unstable; urgency=medium

  [ Jonas Meurer ]
  * Initial release. (Closes: #799292, #877878)
  * Package based on upstream Git commit cd1b5856 from May 23rd 2017.

  [ Pierre-Elliott Bécue ]
  * French translation for debconf template.

 -- Jonas Meurer <mejo@debian.org>  Sun, 12 Nov 2017 23:04:45 +0100
